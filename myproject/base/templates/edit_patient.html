{% extends 'main.html' %}
{% block content %}

<div class="container mt-5">
    <h2 class="text-center">Edit Patient Record</h2>

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-success">{{ message }}</div>
        {% endfor %}
    {% endif %}

    <form action="" method="POST" class="mt-3">
        {% csrf_token %}

        <label>Full Name:</label>
        <input type="text" name="full_name" value="{{ patient.full_name }}" required class="form-control">

        <label>Phone:</label>
        <input type="tel" name="phone" value="{{ patient.phone }}" required class="form-control">

        <label>Address:</label>
        <input type="text" name="address" value="{{ patient.address }}" required class="form-control">

        <label>Age:</label>
        <input type="number" name="age" value="{{ patient.age }}" required class="form-control">

        <label>Gender:</label>
        <select name="gender" required class="form-control">
            <option value="Male" {% if patient.gender == "Male" %}selected{% endif %}>Male</option>
            <option value="Female" {% if patient.gender == "Female" %}selected{% endif %}>Female</option>
            <option value="Other" {% if patient.gender == "Other" %}selected{% endif %}>Other</option>
        </select>

        <label>State:</label>
        <input type="text" name="state" value="{{ patient.state }}" required class="form-control">

        <label>Aadhaar Number:</label>
        <input type="text" name="aadhaar" value="{{ patient.aadhaar_number }}" required class="form-control">

        <label>Email:</label>
        <input type="email" name="email" value="{{ patient.email }}" required class="form-control">

        <label>Health Problem:</label>
        <textarea name="health_problem" rows="3" required class="form-control">{{ patient.health_problem }}</textarea>

        <button type="submit" class="btn btn-primary mt-3">Update</button>
        <a href="{% url 'patients_record' %}" class="btn btn-secondary mt-3">Cancel</a>
    </form>
</div>

{% endblock content %}
